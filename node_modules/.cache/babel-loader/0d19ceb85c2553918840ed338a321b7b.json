{"ast":null,"code":"import { action, makeObservable, observable } from \"mobx\";\nimport React from \"react\";\n\nclass TaskStore {\n  constructor() {\n    this.idForNewTask = 3;\n    this.filter = \"all\";\n    this.newTaskInput = /*#__PURE__*/React.createRef();\n    this.tasks = [{\n      id: 1,\n      title: \"First Task from MobX\",\n      isComplete: false,\n      editing: false\n    }, {\n      id: 2,\n      title: \"Second Task from MobX\",\n      isComplete: false,\n      editing: false\n    }];\n\n    this.addTask = event => {\n      if (event.key === \"Enter\") {\n        const newTaskTitle = this.newTaskInput.current.value;\n        if (newTaskTitle.trim().length === 0) return;\n        this.tasks.push({\n          id: this.idForNewTask,\n          title: newTaskTitle,\n          isComplete: false,\n          editing: false\n        });\n        this.idForNewTask++; // let tasks = [...this.state.tasks];\n        // let idForNewTask = this.state.idForNewTask + 1;\n        // tasks.push({\n        // \tid: idForNewTask,\n        // \ttitle: newTaskTitle,\n        // \tisComplete: false,\n        // \tediting: false,\n        // });\n        // this.setState({ tasks, idForNewTask });\n\n        this.newTaskInput.current.value = \"\";\n      }\n    };\n\n    this.deleteTask = id => {\n      let index = this.tasks.findIndex(t => t.id === id);\n      this.tasks.splice(index, 1);\n    };\n\n    this.completeTask = task => {\n      task.isComplete = !task.isComplete;\n      let index = this.tasks.findIndex(t => t.id === task.id);\n      this.tasks.splice(index, 1, task);\n    };\n\n    this.changeTaskEditing = task => {\n      task.editing = !task.editing;\n      let index = this.tasks.findIndex(t => t.id === task.id);\n      this.tasks.splice(index, 1, task);\n    };\n\n    this.doneEdit = (task, event) => {\n      event.persist();\n      task.editing = false;\n      let newTitle = event.target.value;\n      if (newTitle.trim().length !== 0) task.title = newTitle;\n      let index = this.tasks.findIndex(t => t.id === task.id);\n      this.tasks.splice(index, 1, task);\n    };\n\n    this.doneEditOnOtherKeys = (task, event) => {\n      if (event.key === \"Enter\") {\n        this.doneEdit(task, event);\n      } else if (event.key === \"Escape\") {\n        this.changeTaskEditing(task);\n      }\n    };\n\n    this.remainingCount = () => {\n      return this.tasks.filter(task => !task.isComplete).length;\n    };\n\n    this.isAllCompleted = () => {\n      return this.remainingCount() === 0;\n    };\n\n    this.completedCount = () => {\n      return this.tasks.filter(task => task.isComplete).length;\n    };\n\n    this.clearCompleted = () => {\n      this.tasks = this.tasks.filter(task => !task.isComplete);\n    };\n\n    this.updateFilter = filter => {\n      this.filter = filter;\n    };\n\n    this.tasksFiltered = () => {\n      if (this.filter === \"all\") {\n        return this.tasks;\n      } else if (this.state.filter === \"active\") {\n        return tasks.filter(task => !task.isComplete);\n      } else if (this.state.filter === \"completed\") {\n        return tasks.filter(task => task.isComplete);\n      }\n\n      return tasks;\n    };\n\n    makeObservable(this, {\n      idForNewTask: observable,\n      filter: observable,\n      tasks: observable,\n      addTask: action,\n      deleteTask: action,\n      completeTask: action,\n      changeTaskEditing: action,\n      doneEdit: action,\n      doneEditOnOtherKeys: action,\n      remainingCount: action,\n      isAllCompleted: action,\n      completedCount: action,\n      clearCompleted: action,\n      updateFilter: action\n    });\n  }\n\n}\n\nconst store = new TaskStore();\nexport default store;","map":{"version":3,"sources":["/Users/barihossain/Sites/react-todo/src/stores/TaskStore.js"],"names":["action","makeObservable","observable","React","TaskStore","constructor","idForNewTask","filter","newTaskInput","createRef","tasks","id","title","isComplete","editing","addTask","event","key","newTaskTitle","current","value","trim","length","push","deleteTask","index","findIndex","t","splice","completeTask","task","changeTaskEditing","doneEdit","persist","newTitle","target","doneEditOnOtherKeys","remainingCount","isAllCompleted","completedCount","clearCompleted","updateFilter","tasksFiltered","state","store"],"mappings":"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","sourcesContent":["import { action, makeObservable, observable } from \"mobx\";\nimport React from \"react\";\n\nclass TaskStore {\n\tidForNewTask = 3;\n\tfilter = \"all\";\n\tnewTaskInput = React.createRef();\n\ttasks = [\n\t\t{\n\t\t\tid: 1,\n\t\t\ttitle: \"First Task from MobX\",\n\t\t\tisComplete: false,\n\t\t\tediting: false,\n\t\t},\n\t\t{\n\t\t\tid: 2,\n\t\t\ttitle: \"Second Task from MobX\",\n\t\t\tisComplete: false,\n\t\t\tediting: false,\n\t\t},\n\t];\n\n\taddTask = (event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tconst newTaskTitle = this.newTaskInput.current.value;\n\n\t\t\tif (newTaskTitle.trim().length === 0) return;\n\n\t\t\tthis.tasks.push({\n\t\t\t\tid: this.idForNewTask,\n\t\t\t\ttitle: newTaskTitle,\n\t\t\t\tisComplete: false,\n\t\t\t\tediting: false,\n\t\t\t});\n\n\t\t\tthis.idForNewTask++;\n\n\t\t\t// let tasks = [...this.state.tasks];\n\t\t\t// let idForNewTask = this.state.idForNewTask + 1;\n\t\t\t// tasks.push({\n\t\t\t// \tid: idForNewTask,\n\t\t\t// \ttitle: newTaskTitle,\n\t\t\t// \tisComplete: false,\n\t\t\t// \tediting: false,\n\t\t\t// });\n\n\t\t\t// this.setState({ tasks, idForNewTask });\n\n\t\t\tthis.newTaskInput.current.value = \"\";\n\t\t}\n\t};\n\n\tdeleteTask = (id) => {\n\t\tlet index = this.tasks.findIndex((t) => t.id === id);\n\n\t\tthis.tasks.splice(index, 1);\n\t};\n\n\tcompleteTask = (task) => {\n\t\ttask.isComplete = !task.isComplete;\n\t\tlet index = this.tasks.findIndex((t) => t.id === task.id);\n\n\t\tthis.tasks.splice(index, 1, task);\n\t};\n\n\tchangeTaskEditing = (task) => {\n\t\ttask.editing = !task.editing;\n\n\t\tlet index = this.tasks.findIndex((t) => t.id === task.id);\n\n\t\tthis.tasks.splice(index, 1, task);\n\t};\n\n\tdoneEdit = (task, event) => {\n\t\tevent.persist();\n\t\ttask.editing = false;\n\t\tlet newTitle = event.target.value;\n\n\t\tif (newTitle.trim().length !== 0) task.title = newTitle;\n\n\t\tlet index = this.tasks.findIndex((t) => t.id === task.id);\n\n\t\tthis.tasks.splice(index, 1, task);\n\t};\n\n\tdoneEditOnOtherKeys = (task, event) => {\n\t\tif (event.key === \"Enter\") {\n\t\t\tthis.doneEdit(task, event);\n\t\t} else if (event.key === \"Escape\") {\n\t\t\tthis.changeTaskEditing(task);\n\t\t}\n\t};\n\n\tremainingCount = () => {\n\t\treturn this.tasks.filter((task) => !task.isComplete).length;\n\t};\n\n\tisAllCompleted = () => {\n\t\treturn this.remainingCount() === 0;\n\t};\n\n\tcompletedCount = () => {\n\t\treturn this.tasks.filter((task) => task.isComplete).length;\n\t};\n\n\tclearCompleted = () => {\n\t\tthis.tasks = this.tasks.filter((task) => !task.isComplete);\n\t};\n\n\tupdateFilter = (filter) => {\n\t\tthis.filter = filter;\n\t};\n\n\ttasksFiltered = () => {\n\n\t\tif (this.filter === \"all\") {\n\t\t\treturn this.tasks;\n\t\t} else if (this.state.filter === \"active\") {\n\t\t\treturn tasks.filter((task) => !task.isComplete);\n\t\t} else if (this.state.filter === \"completed\") {\n\t\t\treturn tasks.filter((task) => task.isComplete);\n\t\t}\n\n\t\treturn tasks;\n\t};\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tidForNewTask: observable,\n\t\t\tfilter: observable,\n\t\t\ttasks: observable,\n\t\t\taddTask: action,\n\t\t\tdeleteTask: action,\n\t\t\tcompleteTask: action,\n\t\t\tchangeTaskEditing: action,\n\t\t\tdoneEdit: action,\n\t\t\tdoneEditOnOtherKeys: action,\n\t\t\tremainingCount: action,\n\t\t\tisAllCompleted: action,\n\t\t\tcompletedCount: action,\n\t\t\tclearCompleted: action,\n\t\t\tupdateFilter: action,\n\t\t});\n\t}\n}\n\nconst store = new TaskStore();\n\nexport default store;\n"]},"metadata":{},"sourceType":"module"}